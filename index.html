<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Launch Portal | Singing River AI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #38bdf8;
            --primary-glow: rgba(56, 189, 248, 0.4);
            --bg: #030712;
            --card-bg: rgba(17, 24, 39, 0.7);
            --text: #f8fafc;
            --text-muted: #94a3b8;
            --border: rgba(255, 255, 255, 0.1);
            --accent-gradient: linear-gradient(135deg, #38bdf8 0%, #2563eb 100%);
            --success: #10b981;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--bg);
            background-image:
                radial-gradient(circle at 10% 20%, rgba(37, 99, 235, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(56, 189, 248, 0.1) 0%, transparent 40%);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            padding: 1.5rem;
        }

        /* Particles/Background Decor */
        .decor-blob {
            position: fixed;
            width: 400px;
            height: 400px;
            background: var(--primary);
            filter: blur(120px);
            opacity: 0.05;
            z-index: -1;
            border-radius: 50%;
        }

        /* Navbar/Header */
        header {
            position: fixed;
            top: 2rem;
            text-align: center;
            width: 100%;
            z-index: 10;
        }

        .logo {
            font-size: 1.2rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            background: linear-gradient(to right, #fff, var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .progress-wrapper {
            max-width: 400px;
            margin: 0 auto;
            position: relative;
        }

        .progress-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .progress-container {
            height: 4px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--primary);
            box-shadow: 0 0 15px var(--primary-glow);
            width: 0%;
            transition: width 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        /* Wizard Cards */
        .wizard-container {
            position: relative;
            max-width: 650px;
            width: 100%;
            height: 450px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card {
            position: absolute;
            width: 100%;
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border);
            border-radius: 32px;
            padding: 4rem 3rem;
            display: none;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            transform: translateY(20px) scale(0.95);
        }

        .card.active {
            display: flex;
            opacity: 1;
            transform: translateY(0) scale(1);
            z-index: 5;
        }

        .card.exit {
            opacity: 0;
            transform: translateY(-20px) scale(0.95);
        }

        h2 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            color: #fff;
        }

        .field-desc {
            color: var(--text-muted);
            margin-bottom: 2.5rem;
            font-size: 1.1rem;
            max-width: 90%;
        }

        /* Inputs */
        .input-wrapper {
            width: 100%;
            position: relative;
        }

        input[type="text"],
        input[type="tel"],
        input[type="url"],
        input[type="email"],
        input[type="password"],
        textarea {
            width: 100%;
            background: rgba(0, 0, 0, 0.2);
            border: 2px solid var(--border);
            border-radius: 16px;
            padding: 1.25rem 1.5rem;
            color: white;
            font-family: inherit;
            font-size: 1.25rem;
            transition: all 0.3s;
            text-align: center;
        }

        input:focus,
        textarea:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(56, 189, 248, 0.05);
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.1);
        }

        /* Custom Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
            width: 100%;
        }

        .option-btn {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 1.5rem 1rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .option-btn:hover {
            background: rgba(255, 255, 255, 0.07);
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .option-btn.selected {
            background: var(--primary);
            color: #000;
            font-weight: 600;
            border-color: var(--primary);
            box-shadow: 0 0 20px var(--primary-glow);
        }

        /* File Upload Area */
        .upload-zone {
            width: 100%;
            border: 2px dashed var(--border);
            border-radius: 20px;
            padding: 3rem 2rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        .upload-zone:hover,
        .upload-zone.dragover {
            border-color: var(--primary);
            background: rgba(56, 189, 248, 0.05);
        }

        .preview-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
            width: 100%;
        }

        .preview-item {
            aspect-ratio: 1;
            border-radius: 8px;
            object-fit: cover;
            background: #222;
        }

        /* Buttons */
        .controls {
            margin-top: 3rem;
            display: flex;
            gap: 1rem;
            width: 100%;
            justify-content: center;
        }

        button {
            padding: 1.25rem 2.5rem;
            border-radius: 16px;
            font-family: inherit;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .btn-primary {
            background: var(--accent-gradient);
            color: white;
            border: none;
            box-shadow: 0 10px 20px -5px rgba(37, 99, 235, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px -5px rgba(37, 99, 235, 0.6);
        }

        .btn-secondary {
            background: transparent;
            color: var(--text-muted);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.05);
            color: white;
        }

        .keyboard-hint {
            position: fixed;
            bottom: 2rem;
            color: var(--text-muted);
            font-size: 0.8rem;
            opacity: 0.6;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        kbd {
            background: rgba(255, 255, 255, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            border: 1px solid var(--border);
            font-family: sans-serif;
        }

        /* Success/Loading UI */
        .success-icon {
            width: 80px;
            height: 80px;
            background: var(--success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
            font-size: 2.5rem;
            animation: pop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes pop {
            0% {
                transform: scale(0);
            }

            80% {
                transform: scale(1.2);
            }

            100% {
                transform: scale(1);
            }
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 640px) {
            h2 {
                font-size: 1.6rem;
            }

            .card {
                padding: 3rem 1.5rem;
            }
        }
    </style>
</head>

<body>
    <div class="decor-blob" style="top: -10%; left: -10%;"></div>
    <div class="decor-blob" style="bottom: -10%; right: -10%; background: #2563eb;"></div>

    <header>
        <div class="logo">SINGING RIVER AI</div>
        <div class="progress-wrapper">
            <div class="progress-meta">
                <span id="step-count">Step 1 of 10</span>
                <span id="step-title">Business Hub</span>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </div>
    </header>

    <div class="wizard-container" id="wizard">
        <!-- WELCOME -->
        <div class="card active" data-step="0">
            <h2>Let's Launch Your Visibility Engine.</h2>
            <p class="field-desc">We're about to sync your business to 50+ directories. This onboarding takes 3 minutes
                and ensures everything is 100% accurate.</p>
            <div class="controls">
                <button class="btn-primary" onclick="nextCard()">Start Onboarding &rarr;</button>
            </div>
        </div>

        <!-- STEP 1: BIZ NAME -->
        <div class="card" data-step="1">
            <h2>Legal Business Name?</h2>
            <p class="field-desc">This must exactly match your Google Business Profile & Registration.</p>
            <div class="input-wrapper">
                <input type="text" id="bizName" placeholder="e.g. Rittenworx Handyman Services" autofocus>
            </div>
            <div class="controls">
                <button class="btn-secondary" onclick="prevCard()">&larr;</button>
                <button class="btn-primary" onclick="nextCard()">Continue</button>
            </div>
        </div>

        <!-- STEP 2: PHONE -->
        <div class="card" data-step="2">
            <h2>Primary Business Phone?</h2>
            <p class="field-desc">The number customers will call. We'll use this for your listings.</p>
            <div class="input-wrapper">
                <input type="tel" id="bizPhone" placeholder="(256) 000-0000">
            </div>
            <div class="controls">
                <button class="btn-secondary" onclick="prevCard()">&larr;</button>
                <button class="btn-primary" onclick="nextCard()">Continue</button>
            </div>
        </div>

        <!-- STEP 3: ADDRESS -->
        <div class="card" data-step="3">
            <h2>Business Address?</h2>
            <p class="field-desc">Full address for your Google Map pin placement. Include Suit/Apt.</p>
            <div class="input-wrapper">
                <input type="text" id="bizAddress" placeholder="123 AI Lane, Madison, AL, 35758">
            </div>
            <div class="controls">
                <button class="btn-secondary" onclick="prevCard()">&larr;</button>
                <button class="btn-primary" onclick="nextCard()">Continue</button>
            </div>
        </div>

        <!-- STEP 4: CITIES -->
        <div class="card" data-step="4">
            <h2>Priority Cities?</h2>
            <p class="field-desc">List the top 3 cities where you want more leads.</p>
            <div class="input-wrapper">
                <input type="text" id="serviceAreas" placeholder="e.g. Madison, Huntsville, Decatur">
            </div>
            <div class="controls">
                <button class="btn-secondary" onclick="prevCard()">&larr;</button>
                <button class="btn-primary" onclick="nextCard()">Continue</button>
            </div>
        </div>

        <!-- STEP 5: PLATFORM -->
        <div class="card" data-step="5">
            <h2>Website Platform?</h2>
            <p class="field-desc">Where is your current site hosted?</p>
            <div class="options-grid" id="platformOptions">
                <div class="option-btn" onclick="selectOption('cmsPlatform', 'wordpress', this)">
                    <span>WordPress</span>
                </div>
                <div class="option-btn" onclick="selectOption('cmsPlatform', 'gohighlevel', this)">
                    <span>GoHighLevel</span>
                </div>
                <div class="option-btn" onclick="selectOption('cmsPlatform', 'wix', this)">
                    <span>Wix / Squarespace</span>
                </div>
                <div class="option-btn" onclick="selectOption('cmsPlatform', 'other', this)">
                    <span>Other</span>
                </div>
            </div>
            <input type="hidden" id="cmsPlatform">
            <div class="controls">
                <button class="btn-secondary" onclick="prevCard()">&larr;</button>
                <button class="btn-primary" onclick="nextCard()">Continue</button>
            </div>
        </div>

        <!-- STEP 6: TECH ACCESS -->
        <div class="card" data-step="6">
            <h2>Login Details</h2>
            <p class="field-desc" style="margin-bottom: 1rem;">Provide URLs and access for SEO & Pixel installation.</p>
            <div class="input-wrapper" style="display: flex; flex-direction: column; gap: 0.75rem;">
                <input type="url" id="loginUrl" placeholder="Login URL (e.g. site.com/wp-admin)">
                <input type="text" id="username" placeholder="Username / Email">
                <input type="text" id="password" placeholder="Password (Securely Encrypted)">
            </div>
            <div class="controls">
                <button class="btn-secondary" onclick="prevCard()">&larr;</button>
                <button class="btn-primary" onclick="nextCard()">Continue</button>
            </div>
        </div>

        <!-- STEP 7: DNS -->
        <div class="card" data-step="7">
            <h2>Domain Registrar?</h2>
            <p class="field-desc">Where did you buy your domain? (GoDaddy, Namecheap, etc.)</p>
            <div class="input-wrapper">
                <input type="text" id="dnsProv" placeholder="e.g. GoDaddy">
            </div>
            <div class="controls">
                <button class="btn-secondary" onclick="prevCard()">&larr;</button>
                <button class="btn-primary" onclick="nextCard()">Continue</button>
            </div>
        </div>

        <!-- STEP 8: GBP ACCESS -->
        <div class="card" data-step="8">
            <h2>Google Business Access</h2>
            <p class="field-desc">Add <b>onboarding@singingriverai.com</b> as a Manager to your Google Business Profile.
            </p>
            <a href="https://business.google.com/locations" target="_blank" rel="noopener noreferrer" style="display: inline-block; background: var(--accent-gradient); color: white; padding: 1rem 2rem; 
                      border-radius: 12px; text-decoration: none; font-weight: 600; margin-bottom: 1.5rem;
                      box-shadow: 0 10px 20px -5px rgba(37, 99, 235, 0.4); transition: all 0.3s;">
                Open Google Business Profile â†’
            </a>
            <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 1.5rem;">Click above, then go to
                <b>Users</b> â†’ <b>Add User</b> â†’ Enter the email above as Manager</p>
            <div class="options-grid">
                <div class="option-btn" id="gbpDone" onclick="this.classList.toggle('selected');">
                    <span>I've Added the Manager âœ“</span>
                </div>
            </div>
            <div class="controls">
                <button class="btn-secondary" onclick="prevCard()">&larr;</button>
                <button class="btn-primary" onclick="nextCard()">Continue</button>
            </div>
        </div>

        <!-- STEP 9: REVIEW LINK -->
        <div class="card" data-step="9">
            <h2>Review Link?</h2>
            <p class="field-desc">Paste your current Google Review link. Leave blank if you want us to create one.</p>
            <div class="input-wrapper">
                <input type="url" id="reviewLink" placeholder="https://g.page/r/...">
            </div>
            <div class="controls">
                <button class="btn-secondary" onclick="prevCard()">&larr;</button>
                <button class="btn-primary" onclick="nextCard()">Continue</button>
            </div>
        </div>



        <!-- STEP 10: NOTES -->
        <div class="card" data-step="10">
            <h2>Final Notes</h2>
            <p class="field-desc">Anything else our strategy team should know about your business goals?</p>
            <div class="input-wrapper">
                <textarea id="notes" rows="3" placeholder="Special requests, competitors, etc."></textarea>
            </div>
            <div class="controls">
                <button class="btn-secondary" onclick="prevCard()">&larr;</button>
                <button class="btn-primary" id="finalizeBtn" onclick="submitForm()">Launch ðŸš€</button>
            </div>
        </div>

        <!-- SUCCESS -->
        <div class="card" id="successCard">
            <div class="success-icon">âœ“</div>
            <h2>Mission Control Activated.</h2>
            <p class="field-desc">Your kickoff data has been successfully submitted and sent to our team. We'll be in
                touch soon!</p>
            <div class="controls" style="flex-direction: column; width: 100%;">
                <button class="btn-primary" onclick="location.reload()" style="width: 100%;">
                    Back to Portal
                </button>
            </div>
        </div>
    </div>


    <div class="keyboard-hint">
        Press <kbd>Enter</kbd> to proceed
    </div>

    <script>
        let currentStep = 0;
        const totalSteps = 10;
        const progressBar = document.getElementById('progress-bar');
        const stepCountText = document.getElementById('step-count');
        const stepTitleText = document.getElementById('step-title');
        const cards = document.querySelectorAll('.card');

        const stepThemes = [
            "Welcome", "Identity", "Contact", "Location", "Market",
            "Platform", "Access", "DNS", "Google", "Reviews", "Finalize"
        ];

        function updateProgress() {
            const percent = (currentStep / totalSteps) * 100;
            progressBar.style.width = percent + '%';
            stepCountText.innerText = `Step ${currentStep} of ${totalSteps}`;
            stepTitleText.innerText = stepThemes[currentStep] || "Launch";
        }

        function nextCard() {
            if (currentStep >= totalSteps) return;

            // Basic validation
            if (currentStep === 1 && !document.getElementById('bizName').value) {
                alert("Please enter your business name."); return;
            }

            const activeCard = document.querySelector('.card.active');
            activeCard.classList.add('exit');

            setTimeout(() => {
                activeCard.classList.remove('active', 'exit');
                currentStep++;
                const newCard = document.querySelector(`.card[data-step="${currentStep}"]`);
                newCard.classList.add('active');

                // Focus first input
                const input = newCard.querySelector('input, textarea');
                if (input) input.focus();

                updateProgress();
            }, 300);
        }

        function prevCard() {
            if (currentStep <= 0) return;

            const activeCard = document.querySelector('.card.active');
            activeCard.classList.remove('active');

            currentStep--;
            const newCard = document.querySelector(`.card[data-step="${currentStep}"]`);
            newCard.classList.add('active');
            updateProgress();
        }

        function selectOption(id, val, el) {
            document.getElementById(id).value = val;
            const siblings = el.parentElement.querySelectorAll('.option-btn');
            siblings.forEach(s => s.classList.remove('selected'));
            el.classList.add('selected');
            setTimeout(nextCard, 400); // Auto proceed
        }



        // Keyboard navigation
        window.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const activeCard = document.querySelector('.card.active');
                if (activeCard && activeCard.dataset.step != "10") {
                    e.preventDefault();
                    nextCard();
                }
            }
        });

        async function submitForm() {
            const btn = document.getElementById('finalizeBtn');
            btn.innerHTML = "Submitting...";
            btn.disabled = true;

            try {
                // Build FormData
                const formData = new FormData();
                formData.append('businessName', document.getElementById('bizName').value);
                formData.append('businessPhone', document.getElementById('bizPhone').value);
                formData.append('businessAddress', document.getElementById('bizAddress').value);
                formData.append('serviceAreas', document.getElementById('serviceAreas').value);
                formData.append('websitePlatform', document.getElementById('cmsPlatform').value);
                formData.append('websiteLoginUrl', document.getElementById('loginUrl').value);
                formData.append('username', document.getElementById('username').value);
                formData.append('password', document.getElementById('password').value);
                formData.append('dnsProvider', document.getElementById('dnsProv').value);
                formData.append('gbpAccessSent', document.getElementById('gbpDone').classList.contains('selected'));
                formData.append('currentReviewLink', document.getElementById('reviewLink').value);
                formData.append('finalNotes', document.getElementById('notes').value);
                formData.append('submissionDate', new Date().toISOString());



                const response = await fetch('https://singingriver.app.n8n.cloud/webhook/submit-onboarding', {
                    method: 'POST',
                    body: formData
                });

                if (response.ok) {
                    document.querySelectorAll('.card').forEach(c => c.classList.remove('active'));
                    document.getElementById('successCard').classList.add('active');
                } else {
                    throw new Error('Submission failed');
                }
            } catch (err) {
                console.error(err);
                alert("Submission failed. Please check your data and try again.");
                btn.innerHTML = "Retry Launch ðŸš€";
                btn.disabled = false;
            }
        }
    </script>
</body>

</html>